<idea-plugin>
    <id>org.toml.lang</id>
    <name>Toml</name>

    <vendor>JetBrains</vendor>

    <description><![CDATA[
      TOML language support
    ]]></description>

    <!-- TODO: create normal change note list -->
    <change-notes><![CDATA[
        <ul>
            <li>Support of 2020.2 platform.</li>
            <li>New plugin icon.</li>
        </ul>
    ]]>
    </change-notes>

    <depends>com.intellij.modules.lang</depends>
    <depends>com.intellij.modules.json</depends>

    <extensions defaultExtensionNs="com.intellij">
        <fileType name="TOML"
                  language="TOML"
                  implementationClass="org.toml.lang.psi.TomlFileType"
                  fieldName="INSTANCE"
                  extensions="toml"
                  fileNames="Cargo.lock;Gopkg.lock;Pipfile"/>
        <fileTypeDetector implementation="org.toml.lang.TomlFileTypeDetector"/>
        <lang.parserDefinition language="TOML" implementationClass="org.toml.lang.parse.TomlParserDefinition"/>
        <lang.ast.factory language="TOML" implementationClass="org.toml.lang.psi.impl.TomlASTFactory"/>
        <lang.syntaxHighlighter language="TOML" implementationClass="org.toml.ide.TomlHighlighter"/>
        <lang.commenter language="TOML" implementationClass="org.toml.ide.TomlCommenter"/>
        <lang.braceMatcher language="TOML" implementationClass="org.toml.ide.TomlBraceMatcher"/>
        <lang.quoteHandler language="TOML" implementationClass="org.toml.ide.TomlQuoteHandler"/>
        <lang.elementManipulator forClass="org.toml.lang.psi.TomlLiteral"
                                 implementationClass="org.toml.lang.psi.TomlStringLiteralManipulator"/>
        <colorSettingsPage implementation="org.toml.ide.colors.TomlColorSettingsPage"/>
        <indexPatternBuilder implementation="org.toml.ide.todo.TomlTodoIndexPatternBuilder"/>
        <todoIndexer filetype="TOML" implementationClass="org.toml.ide.todo.TomlTodoIndexer"/>
        <annotator language="TOML" implementationClass="org.toml.ide.annotator.TomlAnnotator"/>
        <annotator language="TOML" implementationClass="org.toml.ide.annotator.TomlHighlightingAnnotator"/>
        <extendWordSelectionHandler implementation="org.toml.ide.wordSelection.TomlStringLiteralSelectionHandler"/>

        <completion.contributor language="TOML"
                                id="TomlJsonSchema"
                                implementationClass="org.toml.ide.schema.TomlSchemaCompletionContributor"/>
    </extensions>

    <extensions defaultExtensionNs="JavaScript">
        <JsonSchema.ProviderFactory implementation="org.toml.ide.schema.TomlSchemaProviderFactory"/>
    </extensions>

    <extensions defaultExtensionNs="com.intellij.json">
        <jsonLikePsiWalkerFactory implementation="org.toml.ide.schema.TomlJsonPsiWalkerFactory"/>
        <jsonSchemaEnabler implementation="org.toml.ide.schema.TomlSchemaEnabler"/>
    </extensions>
</idea-plugin>
